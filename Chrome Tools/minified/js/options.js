chrome.storage.sync.get("redirectIndexes",function(e){var t=2,i=6e4*(new Date).getTimezoneOffset(),a=36e5,r=e.redirectIndexes;r||(r=[]),r.push("redirects"),chrome.storage.sync.get(r,function(e){function r(e){e=e?e:"unnamed";var i=e;switch(t){case 2:var a=n(e),r="reddit.com/r/",s=e.indexOf(r);if(-1!==s){var o=e.substring(s+r.length),c=o.indexOf("/"),l=o.substring(0,-1===c?o.length:c);i=a+" -> "+l}else i=a;break;case 1:i=n(e);break;case 0:i=e}return i}function n(e){var t=e.split("/");if(t[2]){var i=t[2].split(".");return i[i.length-2]?i[i.length-2]:t[2]}return e}function s(e){var t=new Date(e);return+new Date(t.getYear(),t.getMonth(),t.getDate(),t.getHours())-i}function o(e,t){var i=e[e.length-1][0];t===i?e[e.length-1][1]++:(t-i>a&&(e.push([i+a,0]),e.push([t-a,0])),i=t,e.push([t,1]))}var c=(e.redirects,[]);if(Object.keys(e).sort().forEach(function(t){c=c.concat(e[t])}),c&&c.length){for(var l=[],d={},h=0,f=s(c[0][0])-a,m=[[f,0]],v=0;v<c.length;v++){var u=r(c[v][1]),p=s(c[v][0]),g=d[u];if(void 0===g){g=h++,d[u]=g;var k=[[p-a,0]];l.push({name:u,data:k})}var w=l[g].data;o(w,p),o(m,p)}l.push({name:"all",data:m,visible:!1});for(var b=0;b<l.length;b++){var w=l[b].data;w.push([w[w.length-1][0]+a,0])}$("#redirects").highcharts({chart:{zoomType:"x",type:"spline"},title:{text:"Redirects"},xAxis:{type:"datetime"},yAxis:{title:{text:"Number of Redirects"}},series:l,plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}}})}})});