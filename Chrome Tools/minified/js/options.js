chrome.storage.sync.get("redirectIndexes",function(e){var t=2,r=6e4*(new Date).getTimezoneOffset(),a=36e5,n=e.redirectIndexes;n||(n=[]),n.push("redirects"),chrome.storage.sync.get(n,function(e){function n(e){e=e?e:"unnamed";var r=e;switch(t){case 2:var a=i(e),n="reddit.com/r/",s=e.indexOf(n);if(-1!==s){var o=e.substring(s+n.length),l=o.indexOf("/"),c=o.substring(0,-1===l?o.length:l);r=a+" -> "+c}else r=a;break;case 1:r=i(e);break;case 0:r=e}return r}function i(e){var t=e.split("/");if(t[2]){var r=t[2].split(".");return r[r.length-2]?r[r.length-2]:t[2]}return e}function s(e){var t=new Date(e);return+new Date(t.getYear(),t.getMonth(),t.getDate(),t.getHours())-r}function o(e,t){var r=e[e.length-1][0];t===r?e[e.length-1][1]++:(t-r>a&&(e.push([r+a,0]),e.push([t-a,0])),r=t,e.push([t,1]))}var l=(e.redirects,[]);if(Object.keys(e).sort().forEach(function(t){l=l.concat(e[t])}),l&&l.length){for(var c=[],m={},u=0,d=s(l[0][0])-a,g=[[d,0]],h=0;h<l.length;h++){var f=n(l[h][1]),p=s(l[h][0]),A=m[f];if(void 0===A){A=u++,m[f]=A;var v=[[p-a,0]];c.push({name:f,data:v})}var T=c[A].data;o(T,p),o(g,p)}c.push({name:"all",data:g,visible:!1});for(var y=0;y<c.length;y++){var T=c[y].data;T.push([T[T.length-1][0]+a,0])}$("#redirects").highcharts({chart:{zoomType:"x",type:"spline"},title:{text:"Redirects"},xAxis:{type:"datetime"},yAxis:{title:{text:"Number of Redirects"}},series:c,plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}}})}})});