$(function(){chrome.storage.sync.get("redirects",function(e){if(redirects=e.redirects,redirects&&redirects.length){for(var t=6e4*(new Date).getTimezoneOffset(),a=[],i=[],r=0;r<redirects.length;r++)i.push(!1);for(var r=0;r<redirects.length;r++)if(!i[r]){var n=redirects[r][1];n||(n="unnamed");for(var s=0,c=new Date(redirects[r][0]),o=[[+new Date(c.getYear(),c.getMonth(),c.getDate(),c.getHours())-t-36e5,0]],d=r;d<redirects.length;d++){var l=redirects[d][1];if(l||(l="unnamed"),l==n&&!i[d]){i[d]=!0;var c=new Date(redirects[d][0]),h=+new Date(c.getYear(),c.getMonth(),c.getDate(),c.getHours())-t;h!=s?(h-s>36e5&&(o.push([s+36e5,0]),o.push([h-36e5,0])),s=h,o.push([h,1])):o[o.length-1][1]++}}o.push([h+36e5,0]),a.push({name:n,data:o})}for(var s=0,c=new Date(redirects[0][0]),p=[[+new Date(c.getYear(),c.getMonth(),c.getDate(),c.getHours())-t-36e5,0]],d=0;d<redirects.length;d++){var c=new Date(redirects[d][0]),h=+new Date(c.getYear(),c.getMonth(),c.getDate(),c.getHours())-t;h!=s?(h-s>36e5&&(p.push([s+36e5,0]),p.push([h-36e5,0])),s=h,p.push([h,1])):p[p.length-1][1]++}p.push([h+36e5,0]),a.push({name:"All",data:p,visible:!1}),$("#container").highcharts({chart:{zoomType:"x",type:"spline"},title:{text:"Redirects"},xAxis:{type:"datetime"},yAxis:{title:{text:"Number of Redirects"}},series:a,plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}}})}})});