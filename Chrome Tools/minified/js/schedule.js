var scheduleInit=function(){function e(e){for(var a="<div id='header'><input type='button' value='Prev' id='prev'>\n<input type='text' id='datepicker'>\n<input type='button' value='Next' id='next'>\n<input type='button' value='Show Week' id='showWeek'></div>",v="<div class='timeline'>",p="<div class='timeline right'>",h="<div class='timeline right'>",g=c;g<l;g+=60)v+="<div class='timeslotBorder'></div>",p+="<div class='timeslotBorder'></div>",h+="<div class='half timeslotBorder'></div><div class='half halftimeslotBorder'></div>";v+="<div class='bottom'></div></div>",p+="<div class='bottom'></div></div>",h+="<div class='bottom'></div></div>";for(var f="<div class='timeline number'><div class='half timeslotBorder'></div>",g=c/60+1;g<l/60;g++)f+="<div>"+(g>12?g-12:g)+"</div>";f+="<div class='half'></div><div class='bottom'></div></div>";var k="<div id='container'><div id='currentDay' class='day'></div></div>",D="<div id='holder'>"+v+f+p+h+k+"</div>",w="<div id='chromeTools_calendar'>"+a+D+"</div>";e.html(w),e.attr("tabindex",1).focus().keydown(function(e){switch(e.keyCode){case 78:n();break;case 77:d();break;case 188:o();break;case 190:r()}}),$("#showWeek").click(d),$("#next").click(r),$("#prev").click(o),$("#datepicker").datepicker({onSelect:function(e){u?i($("#datepicker").datepicker("getDate")):t($("#datepicker").datepicker("getDate"))},dateFormat:"DD MM d, yy"}).datepicker("setDate",s).datepicker("widget").detach().appendTo(e),t(s)}function t(e){g("#currentDay",[+e])}function i(e){var t=[],i=e.getDay()-1;e.setDate(e.getDate()-i);for(var a=0;a<5;a++)t.push(+e),e.setDate(e.getDate()+1);g("#container",t)}function a(){if($("#now").size())if(s=new Date,s.getHours()<c/100||s.getHours()>=l/100)$("#now").css("display","none");else{var e=s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+"AM";s.getHours()>=13?e=s.getHours()-12+":"+("0"+s.getMinutes()).slice(-2)+"PM":12==s.getHours()&&(e=s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+"PM");var t=Math.floor(50*(s.getHours()-c/100)+s.getMinutes()/1.2);$("#now").css("display","block"),$("#now").text(e),$("#nowHolder").css("top",t),$("#nowHolder").css("left",-v);var i=6e4-1e3*s.getSeconds()-s.getMilliseconds();h=setTimeout(function(){a()},i)}}function d(){var e=$("#datepicker").datepicker("getDate");u=!u,u?($("#showWeek").val("Show Day"),i(e)):($("#showWeek").val("Show Week"),t(e))}function r(){var e=$("#datepicker").datepicker("getDate");u?(e.setDate(e.getDate()+7),i(e)):(e.setDate(e.getDate()+1),t(e)),$("#datepicker").datepicker("setDate",e)}function o(){var e=$("#datepicker").datepicker("getDate");u?(e.setDate(e.getDate()-7),i(e)):(e.setDate(e.getDate()-1),t(e)),$("#datepicker").datepicker("setDate",e)}function n(){s=new Date,$("#datepicker").datepicker("setDate",s),u?i(s):t(s)}var s=new Date,c=420,l=1140,v=50,p=50,u=!1,h=-1,g=function(){function e(e,o){weekSchedule(o,function(n){var p=$("<div></div>");s=new Date;for(var g=0;g<o.length;g++){var f=n[g],k=$("<div class='day'></div>");if(r=0,d(o[g],s)&&(v=50*!u,k.prepend("<div id='nowHolder'><div id='now'></div></div>"),clearTimeout(h),a()),f.length){t(k,c,f[0][0][1]);for(var D=0;D<f.length;D++){var w=f[D][0][1],m=f[D][0][2],y=f[D][3],b=f[D][2][0],M=f[D][2][1],H=f[D][1],W=m-w,x=[b+(u?"":" "+M)+" - "+y,H];i(k,"class "+y,W,x);var T=m,S=D===f.length-1?l:f[D+1][0][1];t(k,T,S)}i(k,"placeholder placeborder",0)}else i(k,"placeholder placeborder",l-c,["No Classes Today"]),i(k,"placeholder placeborder",1);p.append(k).append("<div id='side'></div>")}if($(e).html(p),u){var B=Math.floor(($("#chromeTools_calendar").width()-100)/o.length);$(".class").outerWidth(B),$(".placeholder").outerWidth(B),$("#now").outerWidth(B),clearTimeout(h),a()}})}function t(e,t,a){for(;t<a;){var d=60*Math.floor((t+60)/60),r=d<a?d:a,o=r-t,n="placeholder";t%60===0&&(n+=" placeborder"),i(e,n,o),t+=o}}function i(e,t,i,a){var d=i/(60/p),o=d+r;r=o%1,o=Math.floor(o);var n="";a&&a.length&&(n="<p style='top:"+(o-15.2*a.length)/2+"px'>"+a.join("<br />")+"</p>"),e.append("<div class='"+t+"' style='height:"+o+"px'>"+n+"</div>")}function d(e,t){var i=new Date(e),a=new Date(t);return i.getDate()==a.getDate()&&i.getMonth()==a.getMonth()&&i.getYear()==a.getYear()}var r=0;return e}();return e}();