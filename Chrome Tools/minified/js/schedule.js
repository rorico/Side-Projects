var scheduleInit=function(){function e(e,a){s=a.weekSchedule;for(var u="<div id='header'><input type='button' value='Prev' id='prev'>\n<input type='text' id='datepicker'>\n<input type='button' value='Next' id='next'>\n<input type='button' value='Show Week' id='showWeek'></div>",h="<div class='timeline'>",f="<div class='timeline right'>",D="<div class='timeline right'>",w=v;w<p;w+=60)h+="<div class='timeslotBorder'></div>",f+="<div class='timeslotBorder'></div>",D+="<div class='half timeslotBorder'></div><div class='half halftimeslotBorder'></div>";h+="<div class='bottom'></div></div>",f+="<div class='bottom'></div></div>",D+="<div class='bottom'></div></div>";for(var m="<div class='timeline number'><div class='half timeslotBorder'></div>",w=v/60+1;w<p/60;w++)m+="<div>"+(w>12?w-12:w)+"</div>";m+="<div class='half'></div><div class='bottom'></div></div>";var b="<div id='container'></div>",y="<div id='holder'>"+h+m+f+D+b+"</div>",M="<div id='chromeTools_calendar'>"+u+y+"</div>";return e.html(M),e.attr("tabindex",1).focus().keydown(function(e){switch(e.stopPropagation(),e.keyCode){case 78:n();break;case 77:d();break;case 188:o();break;case 190:r()}}),$("#showWeek").click(d),$("#next").click(r),$("#prev").click(o),$("#datepicker").datepicker({onSelect:function(e){g?i($("#datepicker").datepicker("getDate")):t($("#datepicker").datepicker("getDate"))},dateFormat:"DD MM d, yy"}).datepicker("setDate",l).datepicker("widget").detach().appendTo(e),t(l),c=function(){if(g){var t=Math.floor((e.width()-100)/k);$(".class").outerWidth(t),$(".placeholder").outerWidth(t),$("#now").outerWidth(t)}},{resize:c}}function t(e){D([+e])}function i(e){var t=[],i=e.getDay()-1;e.setDate(e.getDate()-i);for(var a=0;a<k;a++)t.push(+e),e.setDate(e.getDate()+1);D(t)}function a(){if($("#now").size())if(l=new Date,l.getHours()<v/100||l.getHours()>=p/100)$("#now").css("display","none");else{var e=l.getHours()+":"+("0"+l.getMinutes()).slice(-2)+"AM";l.getHours()>=13?e=l.getHours()-12+":"+("0"+l.getMinutes()).slice(-2)+"PM":12==l.getHours()&&(e=l.getHours()+":"+("0"+l.getMinutes()).slice(-2)+"PM");var t=Math.floor(50*(l.getHours()-v/100)+l.getMinutes()/1.2);$("#now").css("display","block"),$("#now").text(e),$("#nowHolder").css("top",t),$("#nowHolder").css("left",-u);var i=6e4-1e3*l.getSeconds()-l.getMilliseconds();f=setTimeout(function(){a()},i)}}function d(){var e=$("#datepicker").datepicker("getDate");g=!g,g?($("#showWeek").val("Show Day"),i(e)):($("#showWeek").val("Show Week"),t(e))}function r(){var e=$("#datepicker").datepicker("getDate");g?(e.setDate(e.getDate()+7),i(e)):(e.setDate(e.getDate()+1),t(e)),$("#datepicker").datepicker("setDate",e)}function o(){var e=$("#datepicker").datepicker("getDate");g?(e.setDate(e.getDate()-7),i(e)):(e.setDate(e.getDate()-1),t(e)),$("#datepicker").datepicker("setDate",e)}function n(){l=new Date,$("#datepicker").datepicker("setDate",l),g?i(l):t(l)}var s,c,l=new Date,v=420,p=1140,u=50,h=50,g=!1,f=-1,k=5,D=function(){function e(e){s(e,function(o){var n=$("<div></div>");l=new Date;for(var s=0;s<e.length;s++){var h=o[s],k=$("<div class='day'></div>");if(r=0,d(e[s],l)&&(u=50*!g,k.prepend("<div id='nowHolder'><div id='now'></div></div>"),clearTimeout(f),a()),h.length){t(k,v,h[0][0][1]);for(var D=0;D<h.length;D++){var w=h[D][0][1],m=h[D][0][2],b=h[D][3],y=h[D][2][0],M=h[D][2][1],H=h[D][1],W=m-w,x=[y+(g?"":" "+M)+" - "+b,H];i(k,"class "+b,W,x);var S=m,B=D===h.length-1?p:h[D+1][0][1];t(k,S,B)}i(k,"placeholder placeborder",0)}else i(k,"placeholder placeborder",p-v,["No Classes Today"]),i(k,"placeholder placeborder",1);n.append(k).append("<div id='side'></div>")}$("#container").html(n),c()})}function t(e,t,a){for(;t<a;){var d=60*Math.floor((t+60)/60),r=d<a?d:a,o=r-t,n="placeholder";t%60===0&&(n+=" placeborder"),i(e,n,o),t+=o}}function i(e,t,i,a){var d=i/(60/h),o=d+r;r=o%1,o=Math.floor(o);var n="";a&&a.length&&(n="<p style='top:"+(o-15.2*a.length)/2+"px'>"+a.join("<br />")+"</p>"),e.append("<div class='"+t+"' style='height:"+o+"px'>"+n+"</div>")}function d(e,t){var i=new Date(e),a=new Date(t);return i.getDate()==a.getDate()&&i.getMonth()==a.getMonth()&&i.getYear()==a.getYear()}var r=0;return e}();return e}();