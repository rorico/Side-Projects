var scheduleInit=function(){function e(e){for(var a="<div id='header'><input type='button' value='Prev' id='prev'>\n<input type='text' id='datepicker'>\n<input type='button' value='Next' id='next'>\n<input type='button' value='Show Week' id='showWeek'></div>",v="<div class='timeline'>",p="<div class='timeline right'>",h="<div class='timeline right'>",g=c;g<l;g+=60)v+="<div class='timeslotBorder'></div>",p+="<div class='timeslotBorder'></div>",h+="<div class='half timeslotBorder'></div><div class='half halftimeslotBorder'></div>";v+="<div class='bottom'></div></div>",p+="<div class='bottom'></div></div>",h+="<div class='bottom'></div></div>";for(var f="<div class='timeline number'><div class='half timeslotBorder'></div>",g=c/60+1;g<l/60;g++)f+="<div>"+(g>12?g-12:g)+"</div>";f+="<div class='half'></div><div class='bottom'></div></div>";var k="<div id='container'></div>",D="<div id='holder'>"+v+f+p+h+k+"</div>",w="<div id='chromeTools_calendar'>"+a+D+"</div>";e.html(w),e.attr("tabindex",1).focus().keydown(function(e){switch(e.keyCode){case 78:n();break;case 77:d();break;case 188:r();break;case 190:o()}}),$("#showWeek").click(d),$("#next").click(o),$("#prev").click(r),$("#datepicker").datepicker({onSelect:function(e){u?i($("#datepicker").datepicker("getDate")):t($("#datepicker").datepicker("getDate"))},dateFormat:"DD MM d, yy"}).datepicker("setDate",s).datepicker("widget").detach().appendTo(e),t(s)}function t(e){g([+e])}function i(e){var t=[],i=e.getDay()-1;e.setDate(e.getDate()-i);for(var a=0;a<5;a++)t.push(+e),e.setDate(e.getDate()+1);g(t)}function a(){if($("#now").size())if(s=new Date,s.getHours()<c/100||s.getHours()>=l/100)$("#now").css("display","none");else{var e=s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+"AM";s.getHours()>=13?e=s.getHours()-12+":"+("0"+s.getMinutes()).slice(-2)+"PM":12==s.getHours()&&(e=s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+"PM");var t=Math.floor(50*(s.getHours()-c/100)+s.getMinutes()/1.2);$("#now").css("display","block"),$("#now").text(e),$("#nowHolder").css("top",t),$("#nowHolder").css("left",-v);var i=6e4-1e3*s.getSeconds()-s.getMilliseconds();h=setTimeout(function(){a()},i)}}function d(){var e=$("#datepicker").datepicker("getDate");u=!u,console.log(u),u?($("#showWeek").val("Show Day"),i(e)):($("#showWeek").val("Show Week"),t(e))}function o(){var e=$("#datepicker").datepicker("getDate");u?(e.setDate(e.getDate()+7),i(e)):(e.setDate(e.getDate()+1),t(e)),$("#datepicker").datepicker("setDate",e)}function r(){var e=$("#datepicker").datepicker("getDate");u?(e.setDate(e.getDate()-7),i(e)):(e.setDate(e.getDate()-1),t(e)),$("#datepicker").datepicker("setDate",e)}function n(){s=new Date,$("#datepicker").datepicker("setDate",s),u?i(s):t(s)}var s=new Date,c=420,l=1140,v=50,p=50,u=!1,h=-1,g=function(){function e(e){weekSchedule(e,function(r){var n=$("<div></div>");s=new Date;for(var p=0;p<e.length;p++){var g=r[p],f=$("<div class='day'></div>");if(o=0,d(e[p],s)&&(v=50*!u,f.prepend("<div id='nowHolder'><div id='now'></div></div>"),clearTimeout(h),a()),g.length){t(f,c,g[0][0][1]);for(var k=0;k<g.length;k++){var D=g[k][0][1],w=g[k][0][2],m=g[k][3],b=g[k][2][0],y=g[k][2][1],M=g[k][1],H=w-D,W=[b+(u?"":" "+y)+" - "+m,M];i(f,"class "+m,H,W);var x=w,T=k===g.length-1?l:g[k+1][0][1];t(f,x,T)}i(f,"placeholder placeborder",0)}else i(f,"placeholder placeborder",l-c,["No Classes Today"]),i(f,"placeholder placeborder",1);n.append(f).append("<div id='side'></div>")}if($("#container").html(n),u){var S=Math.floor(($("#chromeTools_calendar").width()-100)/e.length);$(".class").outerWidth(S),$(".placeholder").outerWidth(S),$("#now").outerWidth(S),clearTimeout(h),a()}})}function t(e,t,a){for(;t<a;){var d=60*Math.floor((t+60)/60),o=d<a?d:a,r=o-t,n="placeholder";t%60===0&&(n+=" placeborder"),i(e,n,r),t+=r}}function i(e,t,i,a){var d=i/(60/p),r=d+o;o=r%1,r=Math.floor(r);var n="";a&&a.length&&(n="<p style='top:"+(r-15.2*a.length)/2+"px'>"+a.join("<br />")+"</p>"),e.append("<div class='"+t+"' style='height:"+r+"px'>"+n+"</div>")}function d(e,t){var i=new Date(e),a=new Date(t);return i.getDate()==a.getDate()&&i.getMonth()==a.getMonth()&&i.getYear()==a.getYear()}var o=0;return e}();return e}();