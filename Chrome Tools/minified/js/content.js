function block(e,n,c){var o;return currentBlock?e!==currentBlock&&(o=$("#"+blockId).empty()):(o=$("<div id='"+blockId+"'></div>"),$("body").append(o)),!!o&&blockType(o,e,n,c)}function blockType(e,n,c,o){currentBlock=n;var t=function(){"time"===n?"undefined"==typeof timeLineInit||"undefined"==typeof keyPressInit?console.log(n+" content script missing"):(timeLineInit(e,c),keyPressInit(e,keyPhrases)):"undefined"==typeof scheduleInit?console.log(n+" content script missing"):scheduleInit(e)},i=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;return i?($(document).one("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){currentBlock?(o(!0),t()):o(!1)}),!0):(o(!0),t(),!1)}function unblock(){$("#"+blockId).remove(),currentBlock=""}function weekSchedule(e,n){sendRequest("weekSchedule",e,n)}function sendRequest(e,n,c){chrome.runtime.sendMessage({from:"content",action:e,input:n},c)}var currentBlock,blockId="chromeTools_block";chrome.runtime.onMessage.addListener(function(e,n,c){switch(e.action){case"block":return block(e.type,e.info,c);case"unblock":unblock();break;case"ping":var o={time:"undefined"!=typeof timeLineInit,schedule:"undefined"!=typeof scheduleInit};c(o)}});