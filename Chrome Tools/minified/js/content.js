function block(e,n){var c;return currentBlock?e!==currentBlock&&(c=$("#"+blockId).empty(),blockType(c,e,n)):(c=$("<div id='"+blockId+"'></div>"),$("body").append(c),blockType(c,e,n))}function blockType(e,n,c){"time"===n?"undefined"==typeof timeLineInit||"undefined"==typeof keyPressInit?console.log(n+" content script missing"):(timeLineInit(e,c),keyPressInit(e,keyPhrases)):"undefined"==typeof scheduleInit?console.log(n+" content script missing"):scheduleInit(e),currentBlock=n;var o=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;return!o||($(document).one("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){"function"==typeof blockCallback&&(blockCallback(!0),blockCallback=void 0,e.focus())}),!1)}function unblock(){"function"==typeof blockCallback&&(blockCallback(!1),blockCallback=void 0),$("#"+blockId).remove(),currentBlock=""}function weekSchedule(e,n){sendRequest("weekSchedule",e,n)}function sendRequest(e,n,c){chrome.runtime.sendMessage({from:"content",action:e,input:n},c)}var currentBlock,blockId="chromeTools_block",blockCallback;chrome.runtime.onMessage.addListener(function(e,n,c){switch(e.action){case"block":if(!block(e.type,e.info))return blockCallback=c,!0;c(!0);break;case"unblock":unblock();break;case"ping":var o={time:"undefined"!=typeof timeLineInit,schedule:"undefined"!=typeof scheduleInit};c(o)}});