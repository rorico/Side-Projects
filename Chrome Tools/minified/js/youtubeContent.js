function youtubeNewPage(){p=window.document.getElementsByTagName("video")[0],p&&(p.onended=function(){setTimeout(function(){p.paused&&sendRequest("youtubeEnd")},100)})}function skipAd(){return adSkip=document.getElementsByClassName("videoAdUiSkipButton")[0],!!adSkip&&(adSkip.click(),!0)}function pause(){return!p.paused&&(p.pause(),!0)}function play(){return!!p.paused&&(p.play(),!0)}function getState(){return p.paused?"pause":"play"}function listen(e){p.onplay=function(){e(),p.onplay=null,window.onbeforeunload=null},window.onbeforeunload=e}function sendRequest(e,n){chrome.runtime.sendMessage({from:"content",action:e,input:n})}var p;youtubeNewPage(),document.addEventListener("transitionend",function(e){"progress"===e.target.id&&youtubeNewPage()}),chrome.runtime.onMessage.addListener(function(e,n,t){switch(e.action){case"pause":t(pause());break;case"play":t(play());break;case"skipAd":t(skipAd());break;case"getState":t(getState());break;case"listen":return listen(t),!0}});